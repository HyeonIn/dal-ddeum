

## 주문 서비스 개발

- OrderService
- ORderRepository

OrderService
비스니스 로직은 엔티티에 위임한다. 

```java
    //주문상품 생성
    OrderItem orderItem = OrderItem.createOrderItem(item, item.getPrice(), count);

```

실제로 OrderItem 안에 비즈니스 메서드를 넣어 서비스는 위임만 하는 역할을 한다.

OrderItem

```java
    public static OrderItem createOrderItem(Item item, int orderPrice, int count){
        OrderItem orderItem = new OrderItem();
        orderItem.setItem(item);
        orderItem.setOrderPrice(orderPrice);
        orderItem.setCount(count);

        item.removeStock(count);

        return orderItem;
    }
```

주문 취소 서비스
- repository에 findOne으로 Order를 찾아와서 order 엔티티의 cancel 메서드를 실행 (위임)
```java
    @Transactional
    public void cancelOrder(Long orderId){
        // 주문 엔티티 조회
        Order order = orderRepository.findOne(orderId);

        //주문 취소
        order.cancel();
    }
```